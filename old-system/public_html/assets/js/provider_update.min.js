$(document).ready(function(){$("#phone").mask("(00) 00000-0000",{placeholder:"(__) _____-____"}),$("#cpf").mask("000.000.000-00",{placeholder:"___.___.___-__"}),$("#business_phone").mask("(00) 0000-0000",{placeholder:"(__) ____-____"}),$("#cnpj").mask("00.000.000/0000-00",{placeholder:"__.___.___/____-__"}),$("#cep").mask("00.000-000",{placeholder:"__.___-___"}),$("#updateForm").on("submit",function(e){let a=!0;$(this).find("[required]").each(function(){""===$(this).val().trim()?(a=!1,$(this).addClass("is-invalid")):$(this).removeClass("is-invalid")}),/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test($("#email").val())||(a=!1,$("#email").addClass("is-invalid")),a?confirm("Tem certeza que deseja atualizar seu cadastro?")||e.preventDefault():(e.preventDefault(),alert("Por favor, preencha todos os campos obrigat\xf3rios corretamente."))}),$("input, select").on("input change",function(){$(this).removeClass("is-invalid")}),$("#cep").on("blur",function(){var e=$(this).val().replace(/\D/g,"");8===e.length&&$.ajax({url:"/cep",type:"POST",data:{cep:e},dataType:"json",success:function(e){e.error?alert("CEP n\xe3o encontrado: "+e.error):($("#city").val(e.city),$("#state").val(e.state),$("#address").val(e.street),$("#neighborhood").val(e.neighborhood))},error:function(){alert("Erro ao consultar CEP.")}})})});