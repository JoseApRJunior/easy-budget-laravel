{% extends 'layout.twig' %}

{% block content %}
<div class="container-fluid d-flex align-items-center justify-content-center min-vh-75 py-1 py-md-5">
	<div class="row justify-content-center w-100">
		<div class="col-12 col-sm-11 col-md-9 col-lg-7 col-xl-5">
			<div class="card border-0 shadow-lg rounded-3">
				<div class="card-body p-4 p-md-5">
					<div class="text-center mb-4">
						<h2 class="fw-bold text-primary">
							Alterar Senha
						</h2>
						<p class="small-test small">
							Insira sua nova senha
						</p>
					</div>
					<form action="/provider/change-password" method="post" id="changePasswordForm">
						{{ csrf.field|raw }}

						<div class="form-floating password-container">
							<input type="password" class="form-control" id="current_password" name="current_password" required />
							<label for="current_password" class="form-label">
								Senha atual
							</label>
							<button type="button" class="password-toggle" data-input="current_password">
								<i class="bi bi-eye"></i>
							</button>
						</div>
						{{ flash('current_password')|raw }}
						<div class="form-floating password-container">
							<input type="password" class="form-control" id="password" name="password" required />
							<label for="password" class="form-label">
								Senha
							</label>
							<button type="button" class="password-toggle" data-input="password">
								<i class="bi bi-eye"></i>
							</button>
						</div>
						<div class="password-rules mt-2" style="display:none;">
							<ul>
								<li>
									<i class="fas fa-check-circle" style="color: #ccc;"></i>
									Pelo menos 6 caracteres
								</li>
								<li>
									<i class="fas fa-check-circle" style="color: #ccc;"></i>
									Letras minúsculas (a-z)
								</li>
								<li>
									<i class="fas fa-check-circle" style="color: #ccc;"></i>
									Letras maiúsculas (A-Z)
								</li>
								<li>
									<i class="fas fa-check-circle" style="color: #ccc;"></i>
									Números (0-9)
								</li>
								<li>
									<i class="fas fa-check-circle" style="color: #ccc;"></i>
									Caracteres especiais (@#$!%*?&)
								</li>
							</ul>
						</div>
						{{ flash('password')|raw }}
						<div class="form-floating password-container">
							<input type="password" class="form-control" id="confirm_password" name="confirm_password" required />
							<label for="confirm_password" class="form-label">
								Confirmar Senha
							</label>
							<button type="button" class="password-toggle" data-input="confirm_password">
								<i class="bi bi-exclamation-circle error-icon d-none"></i>
								<i class="bi bi-eye"></i>
							</button>
						</div>
						{{ flash('confirm_password')|raw }}
						<div class="d-grid mt-5">
							<button type="submit" class="btn btn-primary btn-lg">
								<i class="bi bi-lock-fill me-2"></i>
								Alterar Senha
							</button>
						</div>
					</form>
					<div class="mt-4 text-center">
						<a href="/login" class="text-decoration-none small small-text">
							<i class="bi bi-arrow-left me-1"></i>
							Voltar para o login
						</a>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
{% endblock %}
{# Bloco de scripts #}
{% block scripts %}
{{ parent() }}
<script src="/assets/js/change_password.js" type="module"></script>
{% endblock %}
