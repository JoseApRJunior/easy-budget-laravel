{% extends "layout.twig" %}


{% block content %}
<div class="container-fluid d-flex align-items-center justify-content-center min-vh-75 py-1 py-md-5">
	<div class="row justify-content-center w-100">
		<div class="col-12 col-sm-11 col-md-9 col-lg-7 col-xl-5">
			<div class="card border-0 shadow-lg rounded-3">
				<div class="card-body p-4 p-md-5">
					<div class="text-center mb-4">
						<h2 class="fw-bold text-primary">Reenviar link de confirmação</h2>
						<p class="small-test small">Insira seu e-mail para receber o link
						</p>
					</div>

					{% if flash('success') %}
					<div class="alert alert-success alert-dismissible fade show py-1 small" role="alert">
						<i class="bi bi-check-circle-fill me-2"></i>
						{{ flash('success')|raw }}
						<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
					</div>
					{% endif %}

					<form action="/resend-confirmation" method="post" id="resendConfirmationForm">
						{{ csrf.field|raw }}

						<div class="form-floating mb-4">
							<input type="email" class="form-control" id="email" name="email" placeholder="nome@exemplo.com" required>
							<label for="email">Endereço de E-mail</label>
						</div>

						<div class="d-grid">
							<button type="submit" class="btn btn-primary btn-lg">
								<i class="bi bi-envelope-fill me-2"></i>Enviar Link
							</button>
						</div>
					</form>

					<div class="mt-4 text-center">
						<a href="/login" class="text-decoration-none small small-text">

							<i class="bi bi-arrow-left  me-1"></i>Voltar para o login
						</a>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
{% endblock %}
{% block scripts %}
<script>
	document.addEventListener( 'DOMContentLoaded', function () {
		const form = document.getElementById( 'resendConfirmationForm' );

		form.addEventListener( 'submit', function ( e ) {
			e.preventDefault();
			const email = document.getElementById( 'email' ).value;
			if ( !email ) {
				alert( 'Por favor, insira seu endereço de e-mail.' );
				return;
			}
			form.submit();
		} );
	} );
</script>
{% endblock %}
