parameters:
    level: 8
    paths:
        - app
        - config
        - database
        - routes
        - bootstrap
    bootstrapFiles:
        - bootstrap/app.php
        - bootstrap/cache/packages.php
        - bootstrap/cache/services.php
    scanDirectories:
        - app/Interfaces
        - app/Enums
        - app/Support
        - app/Models
        - app/Services
        - app/Http/Controllers
    excludePaths:
        - old-system/
        - storage/
        - node_modules/
        - vendor/
    checkMissingIterableValueType: true
    checkGenericClassInNonGenericObjectType: true
    checkMissingCallableSignature: true
    checkExplicitMixed: true
    checkImplicitMixed: true
    checkBenevolentUnionTypes: true
    checkUninitializedProperties: true
    checkMissingVarTagTypehint: true
    checkMissingTypehints: true
    checkUnusedThrows: true
    checkNullables: true
    checkThisOnly: true
    checkUnionTypes: true
    checkExplicitMixedMissingReturn: true
    checkImplicitMixedMissingReturn: true
    checkMissingReturn: true
    checkTooWideReturnTypesInProtectedAndPublicMethods: true
    reportUnmatchedIgnoredErrors: true
    treatPhpDocTypesAsCertain: false
    tipsOfTheDay: false
    reportMagicMethods: true
    reportMagicProperties: true
    reportStaticMethodSignatures: true
    checkClassCaseSensitivity: true
    checkFunctionNameCase: true
    checkInternalClassCaseSensitivity: true
    requireParentConstructorCall: true
    checkArgumentTypes: true
    checkArgumentsPassedByReference: true
    checkAstBug: true
    checkBenevolentUnionTypes: true
    checkClassConstant: true
    checkComparisonOfDisparateTypes: true
    checkConstantTypes: true
    checkDivisionByZero: true
    checkDynamicProperties: true
    checkExplicitMixed: true
    checkExplicitMixedMissingReturn: true
    checkExtraArguments: true
    checkFunctionArgumentTypes: true
    checkFunctionNameCase: true
    checkGenericClassInNonGenericObjectType: true
    checkImplicitMixed: true
    checkImplicitMixedMissingReturn: true
    checkIntegerRanges: true
    checkInternalClassCaseSensitivity: true
    checkLogicalAndChainedComparison: true
    checkLogicalAndOfDisparateTypes: true
    checkLogicalOrChainedComparison: true
    checkLogicalOrOfDisparateTypes: true
    checkMissingCallableSignature: true
    checkMissingIterableValueType: true
    checkMissingReturn: true
    checkMissingTypehints: true
    checkMissingVarTagTypehint: true
    checkNullables: true
    checkPregMatch: true
    checkReturnTypes: true
    checkThisOnly: true
    checkTooWideReturnTypesInProtectedAndPublicMethods: true
    checkUninitializedProperties: true
    checkUnionTypes: true
    checkUnusedClassConstant: true
    checkUnusedClosureUse: true
    checkUnusedIgnoredError: true
    checkUnusedThrows: true
    checkVariableTypes: true
    inferPrivatePropertyTypeFromConstructor: true
    polluteScopeWithAlwaysIterableForeach: false
    polluteScopeWithLoopInitialAssignments: false
    reportMaybes: true
    reportMaybesInPropertyPhpDocTypes: true
    reportStaticMethodSignatures: true
    reportUnmatchedIgnoredErrors: true
    reportWrongPhpDocTypeInVarTag: true
    scanFiles:
        - app/Support/helpers.php
    ignoreErrors:
        # Laravel specific ignores
        - '#Call to an undefined method Illuminate\\Support\\Facades\\.*::.*\(\)#'
        - '#Access to an undefined property Illuminate\\Support\\Facades\\.*::\$.*#'
        - '#Call to static method .*\(\) on an unknown class Illuminate\\Support\\Facades\\.*#'
        - '#Instantiated class Illuminate\\Support\\Facades\\.* not found#'
        - '#Parameter \$.* of method .*::.*\(\) has invalid type Illuminate\\Support\\Facades\\.*#'
        - '#Property .*::\$.* has unknown class Illuminate\\Support\\Facades\\.* as its type#'
        - '#Return type of method .*::.*\(\) has invalid type Illuminate\\Support\\Facades\\.*#'
        - '#Unable to resolve the template type .* in call to method Illuminate\\Support\\Facades\\.*::.*\(\)#'
        
        # Model specific ignores
        - '#Call to an undefined method Illuminate\\Database\\Eloquent\\.*::.*\(\)#'
        - '#Call to undefined method Illuminate\\Database\\Eloquent\\Builder::.*\(\)#'
        - '#Method App\\Models\\.*::.*\(\) has no return type specified#'
        - '#Method App\\Models\\.*::.*\(\) has parameter \$.* with no type specified#'
        
        # Service container specific
        - '#Call to method .*\(\) on an unknown class App\\Services\\.*#'
        - '#Parameter \$.* of method .*::.*\(\) has invalid type App\\Services\\.*#'
        
        # Dynamic properties
        - '#Access to an undefined property#'
        - '#Call to an undefined method#'
        
        # Mixed types (for now)
        - '#Mixed assignment#'
        - '#Method .*::.*\(\) has parameter \$.* with no type specified#'
        - '#Method .*::.*\(\) has no return type specified#'
        - '#Property .*::\$.* has no type specified#'
        - '#Unable to resolve the template type .*#'

services:
    -
        class: PHPStan\Rules\Classes\UnusedClassesRule
        tags:
            - phpstan.rules.rule
    -
        class: PHPStan\Rules\Functions\UnusedFunctionParametersRule
        tags:
            - phpstan.rules.rule
    -
        class: PHPStan\Rules\Methods\UnusedPrivateMethodRule
        tags:
            - phpstan.rules.rule
    -
        class: PHPStan\Rules\Properties\UnusedPrivatePropertyRule
        tags:
            - phpstan.rules.rule